<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <title>Article - Super Pixel's Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Template Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,600i,700" rel="stylesheet">

    <!-- Template CSS Files -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/preloader.min.css" rel="stylesheet">
    <link href="css/circle.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/fm.revealator.jquery.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- CSS Skin File -->
    <link href="css/skins/yellow.css" rel="stylesheet">

    <!-- Live Style Switcher - demo only -->
    <link rel="alternate stylesheet" type="text/css" title="blue" href="css/skins/blue.css" />
    <link rel="alternate stylesheet" type="text/css" title="green" href="css/skins/green.css" />
    <link rel="alternate stylesheet" type="text/css" title="yellow" href="css/skins/yellow.css" />
    <link rel="alternate stylesheet" type="text/css" title="blueviolet" href="css/skins/blueviolet.css" />
    <link rel="alternate stylesheet" type="text/css" title="goldenrod" href="css/skins/goldenrod.css" />
    <link rel="alternate stylesheet" type="text/css" title="magenta" href="css/skins/magenta.css" />
    <link rel="alternate stylesheet" type="text/css" title="orange" href="css/skins/orange.css" />
    <link rel="alternate stylesheet" type="text/css" title="purple" href="css/skins/purple.css" />
    <link rel="alternate stylesheet" type="text/css" title="red" href="css/skins/red.css" />
    <link rel="alternate stylesheet" type="text/css" title="yellowgreen" href="css/skins/yellowgreen.css" />
    <link rel="stylesheet" type="text/css" href="css/styleswitcher.css" />

    <!-- Modernizr JS File -->
    <script src="js/modernizr.custom.js"></script>
</head>

<body class="blog-post">
<!-- Live Style Switcher Starts - demo only -->
<div id="switcher" class="">
    <div class="content-switcher">
        <h4>STYLE SWITCHER</h4>
        <ul>
            <li>
                <a href="#" onclick="setActiveStyleSheet('purple');" title="purple" class="color"><img src="img/styleswitcher/purple.png" alt="purple"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('red');" title="red" class="color"><img src="img/styleswitcher/red.png" alt="red"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('blueviolet');" title="blueviolet" class="color"><img src="img/styleswitcher/blueviolet.png" alt="blueviolet"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('blue');" title="blue" class="color"><img src="img/styleswitcher/blue.png" alt="blue"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('goldenrod');" title="goldenrod" class="color"><img src="img/styleswitcher/goldenrod.png" alt="goldenrod"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('magenta');" title="magenta" class="color"><img src="img/styleswitcher/magenta.png" alt="magenta"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('yellowgreen');" title="yellowgreen" class="color"><img src="img/styleswitcher/yellowgreen.png" alt="yellowgreen"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('orange');" title="orange" class="color"><img src="img/styleswitcher/orange.png" alt="orange"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('green');" title="green" class="color"><img src="img/styleswitcher/green.png" alt="green"/></a>
            </li>
            <li>
                <a href="#" onclick="setActiveStyleSheet('yellow');" title="yellow" class="color"><img src="img/styleswitcher/yellow.png" alt="yellow"/></a>
            </li>
        </ul>

       <div id="hideSwitcher">&times;</div>
    </div>
</div>
<!-- div id="showSwitcher" class="styleSecondColor"><i class="fa fa-cog fa-spin"></i></div-->
<!-- Live Style Switcher Ends - demo only -->
<!-- Header Starts -->
<header class="header" id="navbar-collapse-toggle">
    <!-- Fixed Navigation Starts -->
    <ul class="icon-menu d-none d-lg-block revealator-slideup revealator-once revealator-delay1">
        <li class="icon-box">
            <i class="fa fa-home"></i>
            <a href="index.html">
                <h2>Home</h2>
            </a>
        </li>
        <li class="icon-box">
            <i class="fa fa-user"></i>
            <a href="CV.html">
                <h2>CV</h2>
            </a>
        </li>
        
    </ul>
    <!-- Fixed Navigation Ends -->
    <!-- Mobile Menu Starts -->
    <nav role="navigation" class="d-block d-lg-none">
        <div id="menuToggle">
            <input type="checkbox" />
            <span></span>
            <span></span>
            <span></span>
            <ul class="list-unstyled" id="menu">
                <li><a href="index.html"><i class="fa fa-home"></i><span>Home</span></a></li>
                <li><a href="CV.html"><i class="fa fa-user"></i><span>CV</span></a></li>
            </ul>
        </div>
    </nav>
    <!-- Mobile Menu Ends -->
</header>
<!-- Header Ends -->
<!-- Page Title Starts -->
<section class="title-section text-left text-sm-center revealator-slideup revealator-once revealator-delay1">
    <h1>my <span>blog</span></h1>
    <span class="title-bg">posts</span>
</section>
<!-- Page Title Ends -->
<!-- Main Content Starts -->
<section class="revealator-slideup revealator-once revealator-delay1">
    <div class="container">
        <div class="row">
            <!-- Article Starts -->
            <article class="col-12">
                <!-- Meta Starts -->
                <div class="meta open-sans-font">
                    <span class="date"><i class="fa fa-calendar"></i>2024.12</span>
                    <span><i class="fa fa-tags"></i> 图像处理、电机控制、数字电路、FPGA</span>
                </div>
                <!-- Meta Ends -->
                <!-- Article Content Starts -->
                <h1 class="text-uppercase text-capitalize">三子棋人机对弈机器人</h1>
                <hr style="opacity: 0.2;">
                
                <p>这是我们用纯Verilog制作的三子棋机器人，参加全国大学生芯片与系统设计大赛FPGA赛道获得一等奖。
                机器主要由图像识别部分，下棋预测部分和电机驱动部分组成，机器能够保证在与玩家对战过程中，
                机器一方不会落败。玩家下棋后，机器摄像头自动识别棋子位置，通过我们编写的verilog算法自动计算下一步下棋位置，
                随后控制步进电机夹取棋子和玩家对弈。此外，还支持电机自动校准复位，棋子自动复位，触摸屏可视化调颜色阈值，
                LCD屏幕实时显示处理前后图像和棋局状态等功能。</p>
                <p>项目地址<a href="https://github.com/TheSuperPixel/chess_robot_with_fpga"><i class="fa fa-paperclip"
                        aria-hidden="true"></i></a> &nbsp &nbsp &nbsp &nbsp 演示视频<a
                    href="https://www.bilibili.com/video/BV1N1zCYzEWG"><i class="fa fa-paperclip" aria-hidden="true"></i></a> </p>
                <img src="img/chess_robot.png" class="img-fluid" alt="Blog image"/>
                <p>整体的硬件框图如下图所示：</p>
                <img src="img/blog/chess_robot2.png" class="img-fluid" alt="Blog image"/>
                <p>装置整体可分为电机模块、井字棋算法模块和图像处理模块组成。</p>
                <p>我主要完成了硬件电路的搭建，电机模块和图像处理模块的代码。</p>
                <p>1.电机模块</p>
                <p>（1）电机复位：通过 X,Y,Z 三轴上的光电传感器的回传值来判断滑台电机
                当前位置，根据当前状态来判断状态机位置，从而给出输出脉冲驱动步进电机行
                至指定位置传感器（中央位置传感器）。</p>
                <p>（2）棋子的吸取与放置：先预先存储棋盘九宫格所在的位置，根据图像传
                输的玩家落子情况回传至下棋算法模块，算法模块将计算后的落子位置输出给电
                机模块，从而驱动电机运行。</p>
                <p>2.井字棋算法模块</p>
                <p>（1）更新棋盘状态：根据实时图像处理的回传值，来更新状态机中的棋盘
                存储值。</p>
                <p>（2）判断落子位置：我们采用的算法依次按照 4 个情况来判断落子位置。
                第一个状态是判断此棋局是否结束，若已结束则电机不再运作，且在开发板 led
                上进行结果体现。第二个状态判断棋盘中是否存在 2 个机器的棋子在同行/列/
                对角线并且另一个位置没有被对手占据，若存在则即可确定该空位为机器落子位
                置。第三个状态棋盘中是否存在 2 个人类的棋子在同行/列/对角线并且另一个位
                置没有被机器占据，若存在则即可确定该空位为机器落子位置。第四个状态，没
                有一方能够直接取胜，则按照预设落子优先级的顺序进行落子判断输出。
                <p>3.图像处理模块</p>
                <p>（1）YCbCr 模块：首先，我们利用 YCbCr 模块，利用 RGB 转化为 YCbCr
                的线性公式，在 FPGA 内部进行运算，把图像的 RGB 的数值转化为 YCbCr 的数
                值。</p>
                <p>（2）中值滤波模块：然后我们先利用图像的行信号和场信号对图像的三个
                通道进行了扫描，把图像分割为若干 3×3 矩阵，接着对 3×3 矩阵内图像数据进
                行处理，进行中值滤波操作，这样可以消除图像中的噪点，使图像变得更加平滑</p>
                <p>（3）阈值检测模块：最后我们对图像进行了阈值检测，在这一步中，我们
                对每个像素的 YCbCr 数值进行判断，如果像素的 YCbCr 数值都在我们设定的范
                围内，那么我们将把这个像素填充为白色，否则将其填充为黑色</p>
                <p>（4）ROI 检测模块：最后，我们通过行信号和场信号检测指定 ROI 区域内
                白色像素的数量，如果白色像素的数量超过了一定的阈值，则认为在这片 ROI
                区域内有棋子存在，否则则认为没有棋子存在。当有棋子存在时，在对应的 ROI
                区域内绘制绿色矩形来指示，通过这种方法来判断棋子是否被放置在了 ROI 区
                域</p>
                <!-- Article Content Ends -->
            </article>
            <!-- Article Ends -->
        </div>
    </div>
</section>
<!-- Template JS Files -->
<script src="js/jquery-3.5.0.min.js"></script>
<script src="js/styleswitcher.js"></script>
<script src="js/preloader.min.js"></script>
<script src="js/fm.revealator.jquery.min.js"></script>
<script src="js/imagesloaded.pkgd.min.js"></script>
<script src="js/masonry.pkgd.min.js"></script>
<script src="js/classie.js"></script>
<script src="js/cbpGridGallery.js"></script>
<script src="js/jquery.hoverdir.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/custom.js"></script>

</body>


</html>
